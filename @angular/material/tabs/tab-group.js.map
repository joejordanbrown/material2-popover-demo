{"version":3,"sources":["../../../src/lib/tabs/tab-group.ts"],"names":[],"mappings":"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","file":"tab-group.js","sourcesContent":["import {\r\n  NgModule,\r\n  ModuleWithProviders,\r\n  ViewChild,\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  QueryList,\r\n  ContentChildren,\r\n  ElementRef,\r\n  Renderer\r\n} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {\r\n  PortalModule,\r\n  coerceBooleanProperty\r\n} from '../core';\r\nimport {MdTabLabel} from './tab-label';\r\nimport {MdTabLabelWrapper} from './tab-label-wrapper';\r\nimport {MdTabNavBar, MdTabLink, MdTabLinkRipple} from './tab-nav-bar/tab-nav-bar';\r\nimport {MdInkBar} from './ink-bar';\r\nimport {Observable} from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/map';\r\nimport {MdRippleModule} from '../core/ripple/ripple';\r\nimport {ObserveContentModule} from '../core/observe-content/observe-content';\r\nimport {MdTab} from './tab';\r\nimport {MdTabBody} from './tab-body';\r\nimport {VIEWPORT_RULER_PROVIDER} from '../core/overlay/position/viewport-ruler';\r\nimport {MdTabHeader} from './tab-header';\r\n\r\n\r\n/** Used to generate unique ID's for each tab component */\r\nlet nextId = 0;\r\n\r\n/** A simple change event emitted on focus or selection changes. */\r\nexport class MdTabChangeEvent {\r\n  index: number;\r\n  tab: MdTab;\r\n}\r\n\r\n/** Possible positions for the tab header. */\r\nexport type MdTabHeaderPosition = 'above' | 'below';\r\n\r\n/**\r\n * Material design tab-group component.  Supports basic tab pairs (label + content) and includes\r\n * animated ink-bar, keyboard navigation, and screen reader.\r\n * See: https://www.google.com/design/spec/components/tabs.html\r\n */\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'md-tab-group',\r\n  templateUrl: 'tab-group.html',\r\n  styleUrls: ['tab-group.css'],\r\n  host: {\r\n    '[class.md-tab-group-dynamic-height]': 'dynamicHeight',\r\n    '[class.md-tab-group-inverted-header]': 'headerPosition === \"below\"',\r\n  }\r\n})\r\nexport class MdTabGroup {\r\n  @ContentChildren(MdTab) _tabs: QueryList<MdTab>;\r\n\r\n  @ViewChild('tabBodyWrapper') _tabBodyWrapper: ElementRef;\r\n\r\n  /** Whether this component has been initialized. */\r\n  private _isInitialized: boolean = false;\r\n\r\n  /** The tab index that should be selected after the content has been checked. */\r\n  private _indexToSelect = 0;\r\n\r\n  /** Snapshot of the height of the tab body wrapper before another tab is activated. */\r\n  private _tabBodyWrapperHeight: number = null;\r\n\r\n  /** Whether the tab group should grow to the size of the active tab */\r\n  private _dynamicHeight: boolean = false;\r\n  @Input()\r\n  get dynamicHeight(): boolean { return this._dynamicHeight; }\r\n  set dynamicHeight(value: boolean) { this._dynamicHeight = coerceBooleanProperty(value); }\r\n\r\n  /** @deprecated */\r\n  @Input('md-dynamic-height')\r\n  get _dynamicHeightDeprecated(): boolean { return this._dynamicHeight; }\r\n  set _dynamicHeightDeprecated(value: boolean) { this._dynamicHeight = value; }\r\n\r\n  private _selectedIndex: number = null;\r\n\r\n  /** The index of the active tab. */\r\n  @Input()\r\n  set selectedIndex(value: number) { this._indexToSelect = value; }\r\n  get selectedIndex(): number { return this._selectedIndex; }\r\n\r\n  /** Position of the tab header. */\r\n  @Input()\r\n  headerPosition: MdTabHeaderPosition = 'above';\r\n\r\n  /** Output to enable support for two-way binding on `selectedIndex`. */\r\n  @Output() get selectedIndexChange(): Observable<number> {\r\n    return this.selectChange.map(event => event.index);\r\n  }\r\n\r\n  private _onFocusChange: EventEmitter<MdTabChangeEvent> = new EventEmitter<MdTabChangeEvent>();\r\n\r\n  /** Event emitted when focus has changed within a tab group. */\r\n  @Output() get focusChange(): Observable<MdTabChangeEvent> {\r\n    return this._onFocusChange.asObservable();\r\n  }\r\n\r\n  private _onSelectChange: EventEmitter<MdTabChangeEvent> =\r\n      new EventEmitter<MdTabChangeEvent>(true);\r\n\r\n  /** Event emitted when the tab selection has changed. */\r\n  @Output() get selectChange(): Observable<MdTabChangeEvent> {\r\n    return this._onSelectChange.asObservable();\r\n  }\r\n\r\n  private _groupId: number;\r\n\r\n  constructor(private _renderer: Renderer) {\r\n    this._groupId = nextId++;\r\n  }\r\n\r\n  /**\r\n   * After the content is checked, this component knows what tabs have been defined\r\n   * and what the selected index should be. This is where we can know exactly what position\r\n   * each tab should be in according to the new selected index, and additionally we know how\r\n   * a new selected tab should transition in (from the left or right).\r\n   */\r\n  ngAfterContentChecked(): void {\r\n    // Clamp the next selected index to the bounds of 0 and the tabs length. Note the `|| 0`, which\r\n    // ensures that values like NaN can't get through and which would otherwise throw the\r\n    // component into an infinite loop (since Math.max(NaN, 0) === NaN).\r\n    this._indexToSelect =\r\n        Math.min(this._tabs.length - 1, Math.max(this._indexToSelect || 0, 0));\r\n\r\n    // If there is a change in selected index, emit a change event. Should not trigger if\r\n    // the selected index has not yet been initialized.\r\n    if (this._selectedIndex != this._indexToSelect && this._selectedIndex != null) {\r\n      this._onSelectChange.emit(this._createChangeEvent(this._indexToSelect));\r\n    }\r\n\r\n    // Setup the position for each tab and optionally setup an origin on the next selected tab.\r\n    this._tabs.forEach((tab: MdTab, index: number) => {\r\n      tab.position = index - this._indexToSelect;\r\n\r\n      // If there is already a selected tab, then set up an origin for the next selected tab\r\n      // if it doesn't have one already.\r\n      if (this._selectedIndex != null && tab.position == 0 && !tab.origin) {\r\n        tab.origin = this._indexToSelect - this._selectedIndex;\r\n      }\r\n    });\r\n\r\n    this._selectedIndex = this._indexToSelect;\r\n  }\r\n\r\n  /**\r\n   * Waits one frame for the view to update, then updates the ink bar\r\n   * Note: This must be run outside of the zone or it will create an infinite change detection loop.\r\n   */\r\n  ngAfterViewChecked(): void {\r\n    this._isInitialized = true;\r\n  }\r\n\r\n  _focusChanged(index: number) {\r\n    this._onFocusChange.emit(this._createChangeEvent(index));\r\n  }\r\n\r\n  private _createChangeEvent(index: number): MdTabChangeEvent {\r\n    const event = new MdTabChangeEvent;\r\n    event.index = index;\r\n    if (this._tabs && this._tabs.length) {\r\n      event.tab = this._tabs.toArray()[index];\r\n    }\r\n    return event;\r\n  }\r\n\r\n  /** Returns a unique id for each tab label element */\r\n  _getTabLabelId(i: number): string {\r\n    return `md-tab-label-${this._groupId}-${i}`;\r\n  }\r\n\r\n  /** Returns a unique id for each tab content element */\r\n  _getTabContentId(i: number): string {\r\n    return `md-tab-content-${this._groupId}-${i}`;\r\n  }\r\n\r\n  /**\r\n   * Sets the height of the body wrapper to the height of the activating tab if dynamic\r\n   * height property is true.\r\n   */\r\n  _setTabBodyWrapperHeight(tabHeight: number): void {\r\n    if (!this._dynamicHeight || !this._tabBodyWrapperHeight) { return; }\r\n\r\n    this._renderer.setElementStyle(this._tabBodyWrapper.nativeElement, 'height',\r\n        this._tabBodyWrapperHeight + 'px');\r\n\r\n    // This conditional forces the browser to paint the height so that\r\n    // the animation to the new height can have an origin.\r\n    if (this._tabBodyWrapper.nativeElement.offsetHeight) {\r\n      this._renderer.setElementStyle(this._tabBodyWrapper.nativeElement, 'height',\r\n          tabHeight + 'px');\r\n    }\r\n  }\r\n\r\n  /** Removes the height of the tab body wrapper. */\r\n  _removeTabBodyWrapperHeight(): void {\r\n    this._tabBodyWrapperHeight = this._tabBodyWrapper.nativeElement.clientHeight;\r\n    this._renderer.setElementStyle(this._tabBodyWrapper.nativeElement, 'height', '');\r\n  }\r\n}\r\n\r\n@NgModule({\r\n  imports: [CommonModule, PortalModule, MdRippleModule, ObserveContentModule],\r\n  // Don't export all components because some are only to be used internally.\r\n  exports: [MdTabGroup, MdTabLabel, MdTab, MdTabNavBar, MdTabLink, MdTabLinkRipple],\r\n  declarations: [MdTabGroup, MdTabLabel, MdTab, MdInkBar, MdTabLabelWrapper,\r\n    MdTabNavBar, MdTabLink, MdTabBody, MdTabLinkRipple, MdTabHeader],\r\n  providers: [VIEWPORT_RULER_PROVIDER],\r\n})\r\nexport class MdTabsModule {\r\n  /** @deprecated */\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: MdTabsModule,\r\n      providers: []\r\n    };\r\n  }\r\n}\r\n"]}